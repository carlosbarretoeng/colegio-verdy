<div [class]="containerClasses">
  <!-- Label -->
  <label *ngIf="label" class="block mb-2 text-sm font-medium text-gray-700 dark:text-gray-300">
    {{ label }}
    <span *ngIf="required" class="text-red-500">*</span>
  </label>

  <!-- Input Container -->
  <div class="relative">
    <!-- Ícone Esquerda -->
    <div *ngIf="icon && iconPosition === 'left'" class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
      <i [class]="'fas ' + icon + ' text-gray-400'"></i>
    </div>

    <!-- Input -->
    <input
      [class]="inputClasses"
      [class.pl-10]="icon && iconPosition === 'left'"
      [class.pr-10]="icon && iconPosition === 'right'"
      [type]="getInputType()"
      [placeholder]="placeholder"
      [value]="value"
      [disabled]="disabled"
      [readonly]="readonly"
      [maxlength]="maxLength"
      [minlength]="minLength"
      [pattern]="$any(pattern)"
      [formControl]="$any(control)"
      (input)="onInput($event)"
      (focus)="onFocus()"
      (blur)="onBlur()"
    />

    <!-- Ícone Direita ou Toggle Password -->
    <div *ngIf="type === 'password'" class="absolute inset-y-0 right-0 flex items-center pr-3">
      <button
        type="button"
        (click)="togglePasswordVisibility()"
        class="text-gray-400 transition-colors hover:text-gray-600 dark:hover:text-gray-300"
      >
        <i [class]="showPassword ? 'fas fa-eye-slash' : 'fas fa-eye'"></i>
      </button>
    </div>
    <div *ngIf="icon && iconPosition === 'right' && type !== 'password'" class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
      <i [class]="'fas ' + icon + ' text-gray-400'"></i>
    </div>
  </div>

  <!-- Hint -->
  <p *ngIf="hint && !error" class="mt-1 text-sm text-gray-500 dark:text-gray-400">
    {{ hint }}
  </p>

  <!-- Error Message -->
  <p *ngIf="error" class="flex items-center mt-1 text-sm text-red-600 dark:text-red-400">
    <i class="mr-1 fas fa-exclamation-circle"></i>
    {{ error }}
  </p>
</div>
